<div class="plan-add-page">
  <span class="plan-add-title" i18n> {{ 'PLANS.PLANS_ADD' | translate }}</span>
  <div class="plan-add-column">
    <form
      class="form-column-root"
      [formGroup]="crearPlanForm"
      (ngSubmit)="onSubmit()"
    >
      <div class="plan-imagen-wrap">
        <div class="form-column">
          <div class="form-row">
            <span class="form-row-text" i18n> {{ 'PLANS.SELLERS' | translate }}: </span>
            <mat-form-field
              appearance="outline"
              class="form-field"
              [subscriptSizing]="'dynamic'"
            >
              <mat-label i18n>{{ 'COMMON.NAME' | translate }} </mat-label>
              <mat-select formControlName="vendedores" multiple="true">
                @for (vendedor of vendedores | async; track vendedor) {
                <mat-option value="{{ vendedor.id }}">{{
                  vendedor.nombre
                }}</mat-option>
                }
              </mat-select>
            </mat-form-field>
          </div>
          <div class="form-row">
            <span class="form-row-text"> {{ 'COMMON.DATE' | translate }} : </span>
            <mat-form-field class="form-field" [subscriptSizing]="'dynamic'">
              <mat-label>Choose a date</mat-label>
              <input
                matInput
                [matDatepicker]="datepicker"
                formControlName="fecha"
              />
              <mat-hint i18n>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle
                matIconSuffix
                [for]="datepicker"
              ></mat-datepicker-toggle>
              <mat-datepicker #datepicker>
                <mat-datepicker-actions>
                  <button mat-button matDatepickerCancel>{{ 'COMMON.CANCEL' | translate }} </button>
                  <button mat-raised-button matDatepickerApply>{{ 'COMMON.APPLY' | translate }} </button>
                </mat-datepicker-actions>
              </mat-datepicker>
            </mat-form-field>
          </div>
          <div class="form-row">
            <span class="form-row-text" i18n> {{ 'PLANS.SALES_PLAN' | translate }} : </span>
            <mat-form-field
              appearance="outline"
              class="form-field"
              [subscriptSizing]="'dynamic'"
              class="form-row-big"
            >
              <mat-label i18n>{{ 'PLANS.DESCRIPTION' | translate }} </mat-label>
              <input matInput formControlName="descripcion" />
              @if(descripcion?.invalid){<mat-error>
                {{ 'PLANS.ERROR' | translate }}</mat-error
              >}
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="form-column">
        <div class="form-row">
          <div class="agregar-buttons-row">
            <button mat-flat-button class="crear-ruta-button" i18n>
              Registrar Plan
            </button>
            <button
              mat-flat-button
              class="cancelar-crear-ruta-button"
              i18n
              (click)="cancelar()"
            >
              {{ 'PLANS.CANCEL' | translate }}
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
